# 实现记录 - A07

## 行动信息
- **编号**: A07
- **描述**: 更新 ResourceUri 类，为各视图添加 sharedVariablesUri

## 实现细节

### 修改的文件
`extension/src/utils/resource-uri.js`

### 变更内容

#### 1. getViewerUris()
添加了 `sharedVariables` 字段：
```javascript
static getViewerUris(context, webview, highlightTheme = 'github-dark.min.css') {
    return {
        fontAwesome: this._toUri(context, webview, 'assets', 'fontawesome', 'fontawesome.css'),
        sharedVariables: this._toUri(context, webview, 'webview', 'shared', 'variables.css'),
        style: this._toUri(context, webview, 'webview', 'viewer', 'viewer.css'),
        highlightTheme: this._toUri(context, webview, 'assets', 'highlight.js', highlightTheme),
        highlightJs: this._toUri(context, webview, 'assets', 'highlight.js', 'highlight.min.js'),
        script: this._toUri(context, webview, 'webview', 'viewer', 'viewer.js')
    };
}
```

#### 2. getSidebarUris()
添加了 `sharedVariables` 字段：
```javascript
static getSidebarUris(context, webview) {
    return {
        fontAwesome: this._toUri(context, webview, 'assets', 'fontawesome', 'fontawesome.css'),
        sharedVariables: this._toUri(context, webview, 'webview', 'shared', 'variables.css'),
        style: this._toUri(context, webview, 'webview', 'sidebar', 'sidebar.css'),
        fileIcons: this._toUri(context, webview, 'webview', 'shared', 'file-icons.js'),
        script: this._toUri(context, webview, 'webview', 'sidebar', 'sidebar.js')
    };
}
```

#### 3. getDashboardUris()
添加了 `sharedVariables` 字段：
```javascript
static getDashboardUris(context, webview) {
    return {
        fontAwesome: this._toUri(context, webview, 'assets', 'fontawesome', 'fontawesome.css'),
        sharedVariables: this._toUri(context, webview, 'webview', 'shared', 'variables.css'),
        style: this._toUri(context, webview, 'webview', 'dashboard', 'dashboard.css'),
        script: this._toUri(context, webview, 'webview', 'dashboard', 'dashboard.js')
    };
}
```

### 说明
为所有三个视图（Viewer、Sidebar、Dashboard）添加了共享 CSS 变量文件的 URI，确保 HTML 模板可以通过 `{{sharedVariablesUri}}` 占位符引用该文件。

---
*创建时间: 2025-10-11*
