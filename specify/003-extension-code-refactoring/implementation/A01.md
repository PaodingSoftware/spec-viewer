# 实现记录 - A01

## 行动信息
- **编号**: A01
- **描述**: 合并 webview-base.js 和 webview-utils.js 为 webview-utils.js（保留 WebviewBase 类和 WebviewUtils 类）

## 实现细节

### 修改的文件
1. `extension/src/utils/webview-utils.js` - 合并了两个文件的内容
2. `extension/src/providers/dashboard-provider.js` - 更新引用路径
3. `extension/src/providers/file-viewer-provider.js` - 更新引用路径
4. `extension/src/providers/sidebar-provider.js` - 更新引用路径
5. 删除 `extension/src/utils/webview-base.js` - 已合并到 webview-utils.js

### 合并后的 webview-utils.js 结构
```javascript
const fs = require('fs').promises;
const path = require('path');

class WebviewBase {
    constructor(context) {
        this.context = context;
        this.templateCache = new Map();
    }

    async loadTemplate(templatePath) { /* 模板加载逻辑 */ }
    async loadTemplates(templateMap) { /* 批量加载模板 */ }
    clearTemplateCache() { /* 清除缓存 */ }
}

class WebviewUtils {
    static escapeHtml(unsafe) { /* HTML 转义 */ }
    static renderTemplate(template, variables) { /* 模板渲染 */ }
}

module.exports = { WebviewBase, WebviewUtils };
```

### 更新说明
- 所有 Provider 文件中的 `require('../utils/webview-base')` 改为 `require('../utils/webview-utils')`
- sidebar-provider.js 中合并了两个 require 语句为一个：`const { WebviewBase, WebviewUtils } = require('../utils/webview-utils')`
- 保留了两个类的完整功能，无任何逻辑变更
- 合并后文件约 50 行，结构清晰

---
*创建时间: 2025-10-11*
