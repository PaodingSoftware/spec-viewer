# 实现记录 - A12

## 行动信息
- **编号**: A12
- **描述**: 更新 viewer.html 引入 shared/utils.js（在 viewer.js 之前）

## 实现细节

### 修改的文件
`extension/webview/viewer/viewer.html`

### 变更内容
在 `<body>` 标签末尾的 script 引用中添加 `sharedUtilsUri`（在 `scriptUri` 之前）：

**修改前**:
```html
<script src="{{highlightJsUri}}"></script>
<script src="{{scriptUri}}"></script>
```

**修改后**:
```html
<script src="{{highlightJsUri}}"></script>
<script src="{{sharedUtilsUri}}"></script>
<script src="{{scriptUri}}"></script>
```

### 加载顺序说明
1. Highlight.js（代码高亮库）
2. **共享工具函数**（escapeHtml 等）
3. Viewer 主脚本（使用共享工具函数）

确保共享工具函数在 viewer.js 之前加载，使得 viewer.js 可以直接使用 `escapeHtml()` 函数。

---
*创建时间: 2025-10-11*
