# 实现记录 - T10

## 任务信息
- **编号**: T10
- **描述**: 创建共享前端工具文件 extension/webview/shared/utils.js，添加 escapeHtml() 函数

## 实现细节

### 创建的文件
`extension/webview/shared/utils.js`

### 文件内容
```javascript
function escapeHtml(unsafe) {
    return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
}
```

### 功能说明
- **函数**: `escapeHtml(unsafe)`
- **参数**: `unsafe` - 需要转义的字符串
- **返回**: 转义后的安全 HTML 字符串
- **用途**: 防止 XSS 攻击，将特殊 HTML 字符转换为实体

### 转义规则
- `&` → `&amp;`
- `<` → `&lt;`
- `>` → `&gt;`
- `"` → `&quot;`
- `'` → `&#039;`

### 说明
此函数从 `viewer.js` 中提取，作为共享工具函数供所有前端 webview 使用。与后端 `WebviewUtils.escapeHtml()` 功能相同，但运行在不同环境（浏览器 vs Node.js）。

---
*创建时间: 2025-10-11*
