# 实现记录 - A05

## 行动信息
- **编号**: A05
- **描述**: 创建仪表盘 HTML 模板 `extension/webview/dashboard/dashboard.html`

## 实现细节

### 创建的文件
- `extension/webview/dashboard/dashboard.html`

### 核心结构

#### 1. HTML 基础结构
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senatus Dashboard</title>
    <link rel="stylesheet" href="{{fontAwesomeUri}}">
    <link rel="stylesheet" href="{{styleUri}}">
</head>
<body>
    ...
</body>
</html>
```

#### 2. 仪表盘容器
```html
<div class="dashboard-container">
    <header class="dashboard-header">...</header>
    <div class="dashboard-content">...</div>
    <div class="empty-state">...</div>
</div>
```

#### 3. 顶部 Header 区域
包含标题和刷新按钮：

```html
<header class="dashboard-header">
    <h1 class="dashboard-title">
        <i class="fas fa-chart-line"></i>
        Senatus Dashboard
    </h1>
    <button id="refresh-btn" class="btn btn-refresh" title="Refresh Dashboard">
        <i class="fas fa-sync-alt"></i>
    </button>
</header>
```

使用的图标：
- `fa-chart-line`: 仪表盘图标
- `fa-sync-alt`: 刷新图标

#### 4. 内容区域
```html
<div class="dashboard-content" id="dashboard-content">
    <div class="loading">
        <i class="fas fa-spinner fa-spin"></i>
        Loading dashboard...
    </div>
</div>
```

初始显示加载状态，JavaScript 会动态填充内容

#### 5. 空状态提示
```html
<div class="empty-state" id="empty-state" style="display: none;">
    <i class="fas fa-folder-open"></i>
    <h2>No Topics Found</h2>
    <p>The <code>specify/</code> directory is empty or doesn't exist.</p>
    <p>Create a new topic using <code>/new-topic</code> command.</p>
</div>
```

当没有主题时显示此提示

#### 6. 数据容器
使用 script 标签传递 JSON 数据：

```html
<script id="dashboard-data" type="application/json">
{{dataJson}}
</script>
```

前端 JavaScript 会读取这个元素的内容并解析

#### 7. 脚本引入
```html
<script src="{{scriptUri}}"></script>
```

引入仪表盘交互脚本

### 模板占位符
- `{{fontAwesomeUri}}`: Font Awesome CSS URI
- `{{styleUri}}`: dashboard.css URI
- `{{scriptUri}}`: dashboard.js URI
- `{{dataJson}}`: 序列化的 JSON 数据

### 布局设计
采用垂直流式布局（符合讨论 D04）：
- 顶部：Header（标题 + 刷新按钮）
- 中部：Content（将由 JS 渲染当前主题、统计、主题列表）
- 底部：Empty State（无数据时显示）

### 符合的约束
- ✅ 使用 Font Awesome 图标（项目已集成）
- ✅ 垂直流式布局（符合 viewer 风格）
- ✅ 通过 JSON 传递数据（避免 XSS）
- ✅ 提供友好的空状态和加载状态
- ✅ 响应式设计（viewport meta）

---
*创建时间: 2025-09-30*