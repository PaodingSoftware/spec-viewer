# 实现记录 - A31

## 行动信息
- **编号**: A31
- **描述**: 调整侧边栏标题栏按钮顺序，将仪表盘按钮移到最右侧

## 实现细节

### 变更背景
根据讨论记录 D09 和 D08 的结论，仪表盘入口图标应该放在三个图标的最右侧，而不是最左侧。之前的实现（A20）使用 `navigation@N` 格式解决了按钮排序问题，但顺序设置错误，需要重新调整。

### 实现内容

#### 1. 调整 package.json 菜单配置
在 `package.json` 的 `contributes.menus.view/title` 部分，调整三个按钮的顺序：

**修改前（A20 的实现）：**
```json
{
  "command": "spec-viewer.openDashboard",
  "when": "view == specViewerExplorer",
  "group": "navigation@1"
},
{
  "command": "spec-viewer.refresh",
  "when": "view == specViewerExplorer",
  "group": "navigation@2"
},
{
  "command": "spec-viewer.collapseAll",
  "when": "view == specViewerExplorer",
  "group": "navigation@3"
}
```

**修改后（正确顺序）：**
```json
{
  "command": "spec-viewer.openDashboard",
  "when": "view == specViewerExplorer",
  "group": "navigation@3"
},
{
  "command": "spec-viewer.refresh",
  "when": "view == specViewerExplorer",
  "group": "navigation@1"
},
{
  "command": "spec-viewer.collapseAll",
  "when": "view == specViewerExplorer",
  "group": "navigation@2"
}
```

#### 2. 按钮顺序说明
- **refresh 按钮**: `navigation@1` - 最左侧（刷新功能最常用）
- **collapseAll 按钮**: `navigation@2` - 中间位置
- **openDashboard 按钮**: `navigation@3` - 最右侧（仪表盘入口）

### VSCode 菜单排序规则
- 在同一个 `group` 内，按钮顺序由 `@` 符号后的数字决定
- 数字越小，按钮位置越靠前（从左到右）
- 只调整 JSON 数组顺序不会影响实际显示顺序

### 符合宪法约束
- ✅ 正确使用 VSCode Extension API 的菜单贡献点配置
- ✅ 改善用户体验，提供符合用户期望的按钮布局

### 测试验证
1. 重新加载 VSCode 扩展（Developer: Reload Window）
2. 检查侧边栏标题栏按钮顺序
3. 验证从左到右的顺序为：刷新 → 折叠 → 仪表盘

### 修改文件
- `package.json`: 调整 `menus.view/title` 配置中三个按钮的 `group` 值

---
*创建时间: 2025-10-10*
