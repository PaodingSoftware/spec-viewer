# 实现记录 - T04

## 任务信息
- **编号**: T04
- **描述**: 在 ResourceUri 工具类中添加仪表盘资源 URI 方法

## 实现细节

### 修改的文件
- `extension/src/utils/resource-uri.js`

### 核心功能实现

#### 添加的方法
在 ResourceUri 类中新增 `getDashboardUris()` 静态方法：

```javascript
static getDashboardUris(context, webview) {
    return {
        fontAwesome: this._toUri(context, webview, 'assets', 'fontawesome', 'fontawesome.css'),
        style: this._toUri(context, webview, 'webview', 'dashboard', 'dashboard.css'),
        script: this._toUri(context, webview, 'webview', 'dashboard', 'dashboard.js')
    };
}
```

#### 返回的资源 URI
1. **fontAwesome**: Font Awesome 图标样式表
   - 路径：`extension/assets/fontawesome/fontawesome.css`
   - 复用现有资源，与 viewer 和 sidebar 共享

2. **style**: 仪表盘样式表
   - 路径：`extension/webview/dashboard/dashboard.css`
   - 仪表盘专用样式

3. **script**: 仪表盘脚本
   - 路径：`extension/webview/dashboard/dashboard.js`
   - 仪表盘交互逻辑

#### 实现方式
- 使用内部方法 `_toUri()` 生成 webview URI
- 参数：context、webview、路径片段
- 自动转换为 webview 可访问的 URI
- 与 `getViewerUris()` 和 `getSidebarUris()` 保持一致的模式

#### 使用示例
在 DashboardProvider 中调用：

```javascript
const uris = ResourceUri.getDashboardUris(this.context, this.panel.webview);

// uris.fontAwesome: vscode-webview://...fontawesome.css
// uris.style: vscode-webview://...dashboard.css
// uris.script: vscode-webview://...dashboard.js
```

### 符合的架构约束
- ✅ 保持前端资源自包含（使用本地资源，无 CDN）
- ✅ 正确处理路径转换（webview.asWebviewUri）
- ✅ 与现有方法保持一致的命名和结构
- ✅ 复用 Font Awesome 资源，避免重复

---
*创建时间: 2025-09-30*