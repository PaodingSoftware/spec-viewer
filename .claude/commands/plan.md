---
description: 基于当前主题生成可执行的行动列表
---

## 执行流程

1. **检查项目宪法**:
   - 读取宪法文件 `specify/constitution.md`（如存在）
   - 确保后续操作符合宪法约束

2. **获取当前主题**:
   - 扫描 `specify/` 目录找到最新主题目录（按序号排序）
   - 读取最新主题目录下的 `discuss.md` 文件了解内容
   - 如无主题目录则提示运行 `/new-topic` 并结束命令

3. **读取研究基础**:
   - 读取 `specify/{当前主题目录}/research.md` 文件（如存在）
   - 如研究文件不存在则建议先运行 `/research`
   - 基于现有研究结果分析项目现状

4. **生成行动列表**:
   - 基于主题、已有讨论、研究基础和项目源码分析
   - 整理所有结论和决策，识别具体行动事项
   - **严格遵循项目宪法约束**
   - 按执行顺序排列，分配编号 A01, A02, A03...

5. **创建行动计划**:
   - 读取模板文件 `.specify/plan-template.md`
   - 替换模板占位符：
     * `{{DISCUSS_FILE_PATH}}` → 关联的 discuss.md 文件路径
     * `{{CURRENT_DATE}}` → 当前日期（YYYY-MM-DD）
   - 在行动清单部分填充生成的行动列表：
     ```markdown
     A01. [⏳待执行] 行动描述
     A02. [⏳待执行] 行动描述
     A03. [⏳待执行] 行动描述
     ```
   - 生成目标文件 `specify/{当前主题目录}/plan.md`（如文件已存在则覆盖）

## 输出结果
- 生成的行动项数量
- 建议运行 `/action` 开始实施