---
description: 通过预演式实现来发现技术争议点，遇到困惑时立即停止并开始讨论
---

## 执行流程

1. **检查项目宪法**:
   - 读取宪法文件 `specify/constitution.md`（如存在）
   - 确保后续操作符合宪法约束

2. **获取当前主题**:
   - 扫描 `specify/` 目录找到最新主题目录（按序号排序）
   - 读取最新主题目录下的 `discuss.md` 文件了解内容
   - 如无主题目录则提示运行 `/senatus.new-topic` 并结束命令

3. **读取研究基础**:
   - 读取 `specify/{当前主题目录}/research.md` 文件（如存在）
   - 如研究文件不存在则建议先运行 `/senatus.research`
   - 基于现有研究结果分析项目现状

4. **预演实现**:
   - 综合分析主题、已有讨论、研究基础和项目源码
   - 开始尝试实现相关功能或修改
   - **关键原则**：遇到困惑、不确定或无法继续时立即停止，总结出争议点

5. **进行讨论**:
   - 基于预演过程中发现的争议点、已有讨论和研究结果开始讨论
   - 与用户进行多轮对话，澄清关键问题和技术细节
   - 等待用户的明确回复，不能自问自答
   - 根据讨论需要参考项目源码
   - **严格遵循项目宪法约束**

6. **结束讨论**:
   - 当达成结论或用户要求结束时停止
   - 明确讨论的问题和达成的结论
   - **检查结论是否符合项目宪法要求**

7. **记录讨论**:
   - 检查 `specify/{当前主题目录}/discuss.md` 文件，确定下一个编号（D01, D02, D03...）
   - 在 `specify/{当前主题目录}/discuss.md` 文件讨论记录部分添加：
     ```markdown
     ### D[编号] - YYYY-MM-DD HH:MM:SS
     **问题**: [本次讨论的具体问题]
     **结论**: [达成的结论或决策]
     ```
   - **注意**：记录中不要引用任务编号（如 T01、T02 等），避免回滚时产生歧义

## 输出结果
- 讨论总结
